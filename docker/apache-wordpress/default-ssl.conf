<VirtualHost *:80>
  DocumentRoot /var/www/html
  ServerName localhost

  Redirect "/" "https://localhost:8099/"
</VirtualHost>


<VirtualHost *:443>
  DocumentRoot /var/www/html
  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined
  SSLEngine on
  ServerName localhost
  SSLCertificateFile  /etc/ssl/certs/localhost.pem
  SSLCertificateKeyFile /etc/ssl/certs/localhost-key.pem

  <Directory /var/www/html>
     AllowOverride All
     Require all granted
  </Directory>



  <FilesMatch "\.(cgi|shtml|phtml|php)$">
          SSLOptions +StdEnvVars
  </FilesMatch>
  <Directory /usr/lib/cgi-bin>
          SSLOptions +StdEnvVars
  </Directory>



     # Adding security headers (optional but recommended)
#     Header always set X-Content-Type-Options "nosniff"
#     Header always set X-Frame-Options "SAMEORIGIN"
#     Header always set X-XSS-Protection "1; mode=block"

#     # Proxy settings if needed
#     # This part might be unnecessary if you are not using a reverse proxy
#     ProxyRequests Off
#     ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://wordpress:9000/var/www/html/$1
#     <Proxy fcgi://wordpress:9000>
#         Require all granted
#     </Proxy>

  # Add headers to support SSL behind a reverse proxy
  RequestHeader set "X-Forwarded-Proto" expr=%{REQUEST_SCHEME}
  RequestHeader set "X-Forwarded-SSL" expr=%{HTTPS}

</VirtualHost>